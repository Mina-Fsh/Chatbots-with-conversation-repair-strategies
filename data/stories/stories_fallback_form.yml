version: "2.0"

stories:

- story: cc payment + fallback for self assisted repair + continue
  steps:
  - intent: pay_cc
  - action: cc_payment_form
  - active_loop: cc_payment_form
  - intent: nlu_fallback
  - action: action_repair
  - action: utter_ask_cc_payment_form_AA_CONTINUE_FORM
  - intent: affirm
  - action: cc_payment_form
  - active_loop: cc_payment_form

- story: cc payment + fallback for self assisted repair + dont continue
  steps:
  - intent: pay_cc
  - action: cc_payment_form
  - active_loop: cc_payment_form
  - intent: nlu_fallback
  - action: action_repair
  - action: utter_ask_cc_payment_form_AA_CONTINUE_FORM
  - intent: deny
  - action: action_deactivate_loop
  - active_loop: null
  - action: utter_thumbsup
  - action: utter_ask_whatelse

- story: transfer money + fallback for self assisted repair + continue
  steps:
  - intent: transfer_money
  - action: transfer_money_form
  - active_loop: transfer_money_form
  - intent: nlu_fallback
  - action: action_repair
  - action: utter_ask_transfer_money_form_AA_CONTINUE_FORM
  - intent: affirm
  - action: transfer_money_form
  - active_loop: transfer_money_form

- story: transfer money + fallback for self assisted repair + dont continue
  steps:
  - intent: transfer_money
  - action: transfer_money_form
  - active_loop: transfer_money_form
  - intent: nlu_fallback
  - action: action_repair
  - action: utter_ask_transfer_money_form_AA_CONTINUE_FORM
  - intent: deny
  - action: action_deactivate_loop
  - active_loop: null
  - action: utter_thumbsup
  - action: utter_ask_whatelse

- story: search transactions + fallback for self assisted repair + continue
  steps:
  - or:
    - intent: search_transactions
    - intent: check_earnings
  - action: transaction_search_form
  - active_loop: transaction_search_form
  - intent: nlu_fallback
  - action: action_repair
  - action: utter_ask_transaction_search_form_AA_CONTINUE_FORM
  - intent: affirm
  - action: transaction_search_form
  - active_loop: transaction_search_form

- story: search transactions + fallback for self assisted repair + dont continue
  steps:
  - or:
    - intent: search_transactions
    - intent: check_earnings
  - action: transaction_search_form
  - active_loop: transaction_search_form
  - intent: nlu_fallback
  - action: action_repair
  - action: utter_ask_transaction_search_form_AA_CONTINUE_FORM
  - intent: deny
  - action: action_deactivate_loop
  - active_loop: null
  - action: utter_thumbsup
  - action: utter_ask_whatelse